<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link href=https://ruihan.org/leetcode/backtracking/notes/ rel=canonical><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.1, mkdocs-material-7.1.9"><title>Backtracking - RUIHAN.ORG</title><link rel=stylesheet href=../../../assets/stylesheets/main.ca7ac06f.min.css><link rel=stylesheet href=../../../assets/stylesheets/palette.f1a3b89f.min.css><meta name=theme-color content=#000000><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=black data-md-color-accent=black> <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#backtracking class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title=RUIHAN.ORG class="md-header__button md-logo" aria-label=RUIHAN.ORG data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> RUIHAN.ORG </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Backtracking </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../books/ class=md-tabs__link> Books </a> </li> <li class=md-tabs__item> <a href=../../../courses/ class=md-tabs__link> Courses </a> </li> <li class=md-tabs__item> <a href=../../ class="md-tabs__link md-tabs__link--active"> Leetcode </a> </li> <li class=md-tabs__item> <a href=../../../research/ class=md-tabs__link> Research </a> </li> <li class=md-tabs__item> <a href=../../../seedlabs/ class=md-tabs__link> SEED Labs </a> </li> <li class=md-tabs__item> <a href=../../../system-design/ class=md-tabs__link> System Design </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title=RUIHAN.ORG class="md-nav__button md-logo" aria-label=RUIHAN.ORG data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> RUIHAN.ORG </label> <div class=md-nav__source> <a href=https://github.com/iurnah/ruihan.org title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> iurnah/ruihan.org </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Books <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Books data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Books </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../books/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../books/accelerated-cpp/notes/ class=md-nav__link> Accelerated C++ </a> </li> <li class=md-nav__item> <a href=../../../books/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Datasets </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Courses <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Courses data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Courses </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../courses/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../courses/machine-learning-coursera/notes/ class=md-nav__link> Machine Learning (Coursera) </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/lec-notes/ class=md-nav__link> CS224N Lecture Notes </a> </li> <li class=md-nav__item> <a href=../../../courses/cs224n/write-up/ class=md-nav__link> CS224N Write-up </a> </li> <li class=md-nav__item> <a href=../../../courses/coursera-dl4-cnn/notes/ class=md-nav__link> Convolutional Neural Networks </a> </li> <li class=md-nav__item> <a href=../../../courses/mining-massive-datasets/notes/ class=md-nav__link> Mining Massive Data Sets </a> </li> <li class=md-nav__item> <a href=../../../courses/6.431-probability/notes/ class=md-nav__link> 6.431 Probability </a> </li> <li class=md-nav__item> <a href=../../../courses/learning-from-data/notes.md class=md-nav__link> Learning From Data </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-algorithms/notes/ class=md-nav__link> Nine Chapter Algorithms </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-system-design/notes/ class=md-nav__link> Nine Chapter System Design </a> </li> <li class=md-nav__item> <a href=../../../courses/9chap-dynamic-prog/notes/ class=md-nav__link> Nine Chapter Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../../courses/func-prog-in-scala/notes/ class=md-nav__link> Functional Programming Principles in Scala </a> </li> <li class=md-nav__item> <a href=../../../courses/applied-scrum-for-agile/notes/ class=md-nav__link> Applied Scrum for Agile Project Management </a> </li> <li class=md-nav__item> <a href=../../../courses/concurrent-prog-java/notes/ class=md-nav__link> Concurrent Programming in Java </a> </li> <li class=md-nav__item> <a href=../../../courses/java-collections/notes/ class=md-nav__link> Java Collections </a> </li> <li class=md-nav__item> <a href=../../../courses/leadership-courses/interpersonal-communication-rice/ class=md-nav__link> Interpersonal Communication Rice </a> </li> <li class=md-nav__item> <a href=../../../courses/leadership-courses/business-writing-colorado/ class=md-nav__link> Business Writing Colorado </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Leetcode <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Leetcode data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Leetcode </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../favorite/notes/ class=md-nav__link> Favorite </a> </li> <li class=md-nav__item> <a href=../../array/notes/ class=md-nav__link> Array </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Backtracking <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Backtracking </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#subnets class=md-nav__link> Subnets </a> </li> <li class=md-nav__item> <a href=#permutation class=md-nav__link> Permutation </a> </li> <li class=md-nav__item> <a href=#combination class=md-nav__link> Combination </a> </li> <li class=md-nav__item> <a href=#partition class=md-nav__link> Partition </a> </li> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> <li class=md-nav__item> <a href=#problems class=md-nav__link> Problems </a> <nav class=md-nav aria-label=Problems> <ul class=md-nav__list> <li class=md-nav__item> <a href=#remove-invalid-parenthesis class=md-nav__link> Remove Invalid Parenthesis </a> </li> <li class=md-nav__item> <a href=#subsets class=md-nav__link> Subsets </a> </li> <li class=md-nav__item> <a href=#subsets-ii class=md-nav__link> Subsets II </a> </li> <li class=md-nav__item> <a href=#permutations class=md-nav__link> Permutations </a> </li> <li class=md-nav__item> <a href=#permutations-ii class=md-nav__link> Permutations II </a> </li> <li class=md-nav__item> <a href=#combinations class=md-nav__link> Combinations </a> </li> <li class=md-nav__item> <a href=#combination-sum class=md-nav__link> Combination Sum </a> </li> <li class=md-nav__item> <a href=#combination-sum-ii class=md-nav__link> Combination Sum II </a> </li> <li class=md-nav__item> <a href=#combination-sum-iii class=md-nav__link> Combination Sum III </a> </li> <li class=md-nav__item> <a href=#combination-sum-iv-backpack-vi class=md-nav__link> Combination Sum IV (Backpack VI) </a> </li> <li class=md-nav__item> <a href=#491-increasing-subsequences class=md-nav__link> 491. Increasing Subsequences </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../binary-search/notes/ class=md-nav__link> Binary Search </a> </li> <li class=md-nav__item> <a href=../../binary-indexed-tree/notes/ class=md-nav__link> Binary Indexed Tree </a> </li> <li class=md-nav__item> <a href=../../breadth-first-search/notes/ class=md-nav__link> Breadth-First Search (BFS) </a> </li> <li class=md-nav__item> <a href=../../depth-first-search/notes/ class=md-nav__link> Depth-First Search (DFS) </a> </li> <li class=md-nav__item> <a href=../../dynamic-programming/notes/ class=md-nav__link> Dynamic Programming </a> </li> <li class=md-nav__item> <a href=../../graph/notes/ class=md-nav__link> Graph </a> </li> <li class=md-nav__item> <a href=../../hash/notes/ class=md-nav__link> Hash </a> </li> <li class=md-nav__item> <a href=../../heap/notes/ class=md-nav__link> Heap </a> </li> <li class=md-nav__item> <a href=../../interval/notes/ class=md-nav__link> Interval </a> </li> <li class=md-nav__item> <a href=../../linked-list/notes/ class=md-nav__link> Linked List </a> </li> <li class=md-nav__item> <a href=../../math/notes/ class=md-nav__link> Math </a> </li> <li class=md-nav__item> <a href=../../reservoir-sampling/notes/ class=md-nav__link> Reservoir Sampling </a> </li> <li class=md-nav__item> <a href=../../stack/notes/ class=md-nav__link> Stack </a> </li> <li class=md-nav__item> <a href=../../string/notes/ class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../sliding-window/notes/ class=md-nav__link> Sliding Window </a> </li> <li class=md-nav__item> <a href=../../topological-sort/notes/ class=md-nav__link> Topological Sort </a> </li> <li class=md-nav__item> <a href=../../two-pointers/notes/ class=md-nav__link> Two Pointers </a> </li> <li class=md-nav__item> <a href=../../tree/notes/ class=md-nav__link> Tree </a> </li> <li class=md-nav__item> <a href=../../trie/notes/ class=md-nav__link> Trie </a> </li> <li class=md-nav__item> <a href=../../union-find/notes/ class=md-nav__link> Union Find </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Research <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Research data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Research </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../research/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../research/paper-reading/notes/ class=md-nav__link> Paper Reading </a> </li> <li class=md-nav__item> <a href=../../../research/coalition-game/notes/ class=md-nav__link> Coalition Game </a> </li> <li class=md-nav__item> <a href=../../../research/contextual-bandit/notes/ class=md-nav__link> Contextual Multi-Armed Bandit </a> </li> <li class=md-nav__item> <a href=../../../research/tfidf-score/notes/ class=md-nav__link> TF-IDF for Information Retrieval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> SEED Labs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="SEED Labs" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> SEED Labs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../seedlabs/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/applied-crypto/notes/ class=md-nav__link> Applied Cryptograph Notes </a> </li> <li class=md-nav__item> <a href=../../../seedlabs/public-key-cryptography-and-pki/notes/ class=md-nav__link> Public Key Cryptography and PKI </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> System Design <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="System Design" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> System Design </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../system-design/ class=md-nav__link> Index </a> </li> <li class=md-nav__item> <a href=../../../system-design/browser/notes.md class=md-nav__link> How Browser Works </a> </li> <li class=md-nav__item> <a href=../../../system-design/concurrency/notes/ class=md-nav__link> Concurrency and Synchronization </a> </li> <li class=md-nav__item> <a href=../../../system-design/concepts/notes/ class=md-nav__link> Distributed System Concepts </a> </li> <li class=md-nav__item> <a href=../../../system-design/patterns/notes/ class=md-nav__link> Design Patterns </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/crawler/notes/ class=md-nav__link> Design Crawler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/tinyurl/notes/ class=md-nav__link> Design TinyUrl </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/twitter/notes/ class=md-nav__link> Design Twitter </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/scheduler/notes/ class=md-nav__link> Deisgn Scheduler </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/ticketmaster/notes/ class=md-nav__link> Design Ticketmaster </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/messager/notes/ class=md-nav__link> Design Messager </a> </li> <li class=md-nav__item> <a href=../../../system-design/problems/payment/notes/ class=md-nav__link> Design Payment System </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#subnets class=md-nav__link> Subnets </a> </li> <li class=md-nav__item> <a href=#permutation class=md-nav__link> Permutation </a> </li> <li class=md-nav__item> <a href=#combination class=md-nav__link> Combination </a> </li> <li class=md-nav__item> <a href=#partition class=md-nav__link> Partition </a> </li> <li class=md-nav__item> <a href=#summary class=md-nav__link> Summary </a> </li> <li class=md-nav__item> <a href=#problems class=md-nav__link> Problems </a> <nav class=md-nav aria-label=Problems> <ul class=md-nav__list> <li class=md-nav__item> <a href=#remove-invalid-parenthesis class=md-nav__link> Remove Invalid Parenthesis </a> </li> <li class=md-nav__item> <a href=#subsets class=md-nav__link> Subsets </a> </li> <li class=md-nav__item> <a href=#subsets-ii class=md-nav__link> Subsets II </a> </li> <li class=md-nav__item> <a href=#permutations class=md-nav__link> Permutations </a> </li> <li class=md-nav__item> <a href=#permutations-ii class=md-nav__link> Permutations II </a> </li> <li class=md-nav__item> <a href=#combinations class=md-nav__link> Combinations </a> </li> <li class=md-nav__item> <a href=#combination-sum class=md-nav__link> Combination Sum </a> </li> <li class=md-nav__item> <a href=#combination-sum-ii class=md-nav__link> Combination Sum II </a> </li> <li class=md-nav__item> <a href=#combination-sum-iii class=md-nav__link> Combination Sum III </a> </li> <li class=md-nav__item> <a href=#combination-sum-iv-backpack-vi class=md-nav__link> Combination Sum IV (Backpack VI) </a> </li> <li class=md-nav__item> <a href=#491-increasing-subsequences class=md-nav__link> 491. Increasing Subsequences </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=backtracking>Backtracking<a class=headerlink href=#backtracking title="Permanent link">&para;</a></h1> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Backtracking algorithm can be used to generate all the subsets of a given set, all the permutation of a given sequence, and all the combinations of k elements from a given set with n elements. The algorithms are very similar but differ in some unique property of each problem.</p> <h2 id=subnets>Subnets<a class=headerlink href=#subnets title="Permanent link">&para;</a></h2> <ul> <li>How many subsets there are for a set with n elements? (<span><span class=MathJax_Preview>2^n</span><script type=math/tex>2^n</script></span>)</li> <li>How to generate all the subsets if there are NO duplicates in the set? (See problem <a href=./#subsets>Subsets</a>)</li> <li>How to generate all the UNIQUE subsets if there are duplicates in the set? (See problem <a href=./#subsets-ii>Subsets II</a>)</li> <li>What are the application of subset?</li> </ul> <h2 id=permutation>Permutation<a class=headerlink href=#permutation title="Permanent link">&para;</a></h2> <ul> <li>How many permutations (number of ordering) of a sequence with n elements? (<span><span class=MathJax_Preview>n!</span><script type=math/tex>n!</script></span>)</li> <li>How to generate all the permutations if there are NO duplicates in the set? (See problem <a href=./#permutations>Permutations</a>)</li> <li>How to generate all the UNIQUE permutations if there are duplicates in the set? (See problem <a href=./#permutations-ii>Permutations II</a>)</li> <li>What are the applications of permutation? (upper bound of sorting algorithms)</li> </ul> <h2 id=combination>Combination<a class=headerlink href=#combination title="Permanent link">&para;</a></h2> <ul> <li>How many combinations of k elements from a set of n elements? (<span><span class=MathJax_Preview>\binom{n}{k}</span><script type=math/tex>\binom{n}{k}</script></span>)</li> <li>How to derive the formula <span><span class=MathJax_Preview>\binom{n}{k} = \frac{n!}{k! (n - k)!}</span><script type=math/tex>\binom{n}{k} = \frac{n!}{k! (n - k)!}</script></span>?<ol> <li>Choose k elements from the set one after another without putting back: <span><span class=MathJax_Preview>n (n - 1) \dots (n - k + 1) = \frac{n!}{(n - k)!}</span><script type=math/tex>n (n - 1) \dots (n - k + 1) = \frac{n!}{(n - k)!}</script></span></li> <li>Calculate the number of ways to choose k elements as <span><span class=MathJax_Preview>\binom{n}{k}</span><script type=math/tex>\binom{n}{k}</script></span>, then order the k elements: <span><span class=MathJax_Preview>\binom{n}{k} \times k!</span><script type=math/tex>\binom{n}{k} \times k!</script></span></li> <li>Equalize the two give us: <span><span class=MathJax_Preview>\binom{n}{k} = \frac{n!}{k! (n - k)!}</span><script type=math/tex>\binom{n}{k} = \frac{n!}{k! (n - k)!}</script></span></li> </ol> </li> <li>Whatâ€™s the relation between the subset and combination?</li> <li>For <code>k</code> from <code>0</code> to <code>n</code>, get all the combinations, all those combinations will form the powerset of the original set of n elements. We have <span><span class=MathJax_Preview>\sum_{k = 0}^{n}\binom{n}{k} = \binom{n}{0} + \binom{n}{1}, \dots, \binom{n}{n} = 2^n\text{(number of all set)}</span><script type=math/tex>\sum_{k = 0}^{n}\binom{n}{k} = \binom{n}{0} + \binom{n}{1}, \dots, \binom{n}{n} = 2^n\text{(number of all set)}</script></span></li> <li>How to generate all the combination if there are NO duplicates in the set? (See problem <a href=./#combinations>Combinations</a>)</li> <li>How to generate all the UNIQUE combinations if there are duplicates in the set? (See problem <a href=./#combination-sum>Combination Sum</a>, <a href=./#combination-sum-ii>Combination Sum II</a>, <a href=./#combination-sum-iii>Combination Sum III</a>, <a href=./#backpack-vi>Backpack VI</a>)</li> <li>What are the applications of combination? (calculate the upper bound of sorting algorithms)</li> </ul> <h2 id=partition>Partition<a class=headerlink href=#partition title="Permanent link">&para;</a></h2> <ul> <li>How many ways can we partition a set of <code>n</code> elements into <code>r</code> groups, with the <code>i</code>-th group have <span><span class=MathJax_Preview>n_i</span><script type=math/tex>n_i</script></span> elements. (<span><span class=MathJax_Preview>\frac{n!}{n_1! n_2!, \dots, n_r!}</span><script type=math/tex>\frac{n!}{n_1! n_2!, \dots, n_r!}</script></span>)<ol> <li>We will look at the problem this way: note the numbfer of different ways of partitioning as <span><span class=MathJax_Preview>C</span><script type=math/tex>C</script></span> , each partition have <span><span class=MathJax_Preview>n_1, n_2, \dots, n_r</span><script type=math/tex>n_1, n_2, \dots, n_r</script></span> elements. We align <span><span class=MathJax_Preview>n_1, n_2, \dots, n_r</span><script type=math/tex>n_1, n_2, \dots, n_r</script></span> together to form a <code>n</code> elements sequence and there are <span><span class=MathJax_Preview>n!</span><script type=math/tex>n!</script></span> of such sequences. Remeber for each partition, there are <span><span class=MathJax_Preview>n_1!</span><script type=math/tex>n_1!</script></span> different sequences. So that we have so we have <span><span class=MathJax_Preview>C \cdot n_1! \cdot n_2! \dots n_r! = n!</span><script type=math/tex>C \cdot n_1! \cdot n_2! \dots n_r! = n!</script></span>, and <span><span class=MathJax_Preview>\frac{n!}{n_1! n_2!, \dots, n_r!}</span><script type=math/tex>\frac{n!}{n_1! n_2!, \dots, n_r!}</script></span></li> </ol> </li> <li>When the <code>r = 2</code>, the partition problem essentially becomes a combination problem.</li> <li>What are the applications of partition? (calculate the upper bound of sorting algorithms)</li> </ul> <h2 id=summary>Summary<a class=headerlink href=#summary title="Permanent link">&para;</a></h2> <p><strong>Subset</strong>, <strong>permutation</strong>, and <strong>combination</strong> problems can be solved using a single code template. Other problems that are involving multiple steps, and asking for multiple eligible results that fulfill certain criteria, could also use this template. The subtlety arise when deal with replicates element in the problems.</p> <p>There are some general principles that I summarized for solving it.</p> <ol> <li>The recursive helper function prototype:</li> </ol> <div class=highlight><pre><span></span><code><span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=p>[</span><span class=kt>int</span> <span class=n>cur</span><span class=p>],</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>subset</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=o>&amp;</span><span class=n>result</span><span class=p>);</span>
</code></pre></div> <ol> <li>The "<em>select action</em>" could be done through update the index <code>int cur</code> for each level of recursive call.</li> <li>Each <code>for</code> iteration (invoke helper function) is to "<em>select</em>" an element in this level, it recursively adding more elements to the temporary result.</li> <li>To remove duplicate result if duplicate element presented, we first need to be clear about where the duplicate results come from. e.g. In generating the power subsets, the duplicated results due to repeatedly selecting the same element from different original position. (consecutive positions, since it is sorted first). Therefore, the idea to avoid duplicate results is to <strong><em>not</em></strong> select the duplicate elements for a second time to form the same pattern, we use the following template check statement to achieve this.</li> </ol> <div class=highlight><pre><span></span><code><span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>!=</span> <span class=n>cur</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]){</span>
        <span class=k>continue</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>4 elements of backtracking</p> <ol> <li>What is the iteration? (the for loop, the same level of node in the tree)</li> <li>What is the recursion? (what index will be advanced?)</li> <li>What is counted in the result? (what should be pushed back?)</li> <li>When is the result returned? (the cutting condition)</li> </ol> </div> <div class="admonition note"> <p class=admonition-title>traceability of backtracking</p> <p>By using recursion and iteration together in this backtrack technique, we can imagine the problem as growing a recursive tree.</p> <ul> <li>To grow the node at the same level, an index in a for loop can do the job.</li> <li>To grow a child of a node, a recursive function should be called. More specifically, we can advance the index by passing it into the recursive function. This index increment let the tree grow vertically.</li> </ul> </div> <h2 id=problems>Problems<a class=headerlink href=#problems title="Permanent link">&para;</a></h2> <h3 id=remove-invalid-parenthesis>Remove Invalid Parenthesis<a class=headerlink href=#remove-invalid-parenthesis title="Permanent link">&para;</a></h3> <p>Decide what to search Relation with BFS</p> <h3 id=subsets>Subsets<a class=headerlink href=#subsets title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=1:2><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><label for=__tabbed_1_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>subsets</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>subset</span><span class=p>;</span>

        <span class=n>helper</span> <span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>subset</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=cm>/* helper to get the permutation from curr to n - 1, total is n - curr */</span>
    <span class=kt>void</span> <span class=n>helper</span> <span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>curr</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>subset</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>subset</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>curr</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>subset</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>subset</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
            <span class=n>subset</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_1_2 name=__tabbed_1 type=radio><label for=__tabbed_1_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>subsets</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :rtype: List[List[int]]</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>
        <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>

        <span class=bp>self</span><span class=o>.</span><span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=p>[],</span> <span class=n>results</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>results</span>

    <span class=k>def</span> <span class=nf>helper</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>curr</span><span class=p>,</span> <span class=n>currSubset</span><span class=p>,</span> <span class=n>results</span><span class=p>):</span>

        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>currSubset</span><span class=p>))</span>

        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>curr</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
            <span class=n>currSubset</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>currSubset</span><span class=p>,</span> <span class=n>results</span><span class=p>)</span>
            <span class=n>currSubset</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</code></pre></div> </div> </div> <h3 id=subsets-ii>Subsets II<a class=headerlink href=#subsets-ii title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=2:2><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><label for=__tabbed_2_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>subsetsWithDup</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>subset</span><span class=p>;</span>

        <span class=n>sort</span> <span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=n>helper</span> <span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>subset</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>curr</span><span class=p>,</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>subset</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>subset</span><span class=p>);</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>curr</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=n>curr</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=k>continue</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>subset</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>subset</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
            <span class=n>subset</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_2_2 name=__tabbed_2 type=radio><label for=__tabbed_2_2>Python</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
    <span class=k>def</span> <span class=nf>subsetsWithDup</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>):</span>
        <span class=sd>&quot;&quot;&quot;</span>
<span class=sd>        :type nums: List[int]</span>
<span class=sd>        :rtype: List[List[int]]</span>
<span class=sd>        &quot;&quot;&quot;</span>
        <span class=n>n</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)</span>
        <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=n>nums</span><span class=o>.</span><span class=n>sort</span><span class=p>()</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=p>[],</span> <span class=n>results</span><span class=p>)</span>

        <span class=k>return</span> <span class=n>results</span>


    <span class=k>def</span> <span class=nf>helper</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>curr</span><span class=p>,</span> <span class=n>currSubset</span><span class=p>,</span> <span class=n>results</span><span class=p>):</span>
        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=nb>list</span><span class=p>(</span><span class=n>currSubset</span><span class=p>))</span>

        <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>curr</span><span class=p>,</span> <span class=n>n</span><span class=p>):</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=n>curr</span><span class=p>)</span> <span class=ow>and</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]):</span>
                <span class=k>continue</span>

            <span class=n>currSubset</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>currSubset</span><span class=p>,</span> <span class=n>results</span><span class=p>)</span>
            <span class=n>currSubset</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>
</code></pre></div> </div> </div> <h3 id=permutations>Permutations<a class=headerlink href=#permutations title="Permanent link">&para;</a></h3> <div class=tabbed-set data-tabs=3:2><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><label for=__tabbed_3_1>C++ Backtracking</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=n>permute</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>permutation</span><span class=p>;</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>results</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>permutation</span><span class=p>,</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>permutation</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>permutation</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;::</span><span class=n>iterator</span> <span class=n>it</span><span class=p>;</span>
            <span class=n>it</span> <span class=o>=</span> <span class=n>find</span><span class=p>(</span><span class=n>permutation</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>permutation</span><span class=p>.</span><span class=n>end</span><span class=p>(),</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=k>if</span><span class=p>(</span><span class=n>it</span> <span class=o>==</span> <span class=n>permutation</span><span class=p>.</span><span class=n>end</span><span class=p>()){</span>
                <span class=n>permutation</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
                <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
                <span class=n>permutation</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> <input id=__tabbed_3_2 name=__tabbed_3 type=radio><label for=__tabbed_3_2>Use 'visited' variable</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>permute</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>permute</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span> <span class=n>visited</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=nb>false</span><span class=p>);</span>

        <span class=n>helper</span> <span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>permute</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span> <span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span> <span class=n>visited</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=o>&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>permutation</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>permutation</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>])</span> <span class=p>{</span>
                <span class=k>continue</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
            <span class=n>permutation</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=n>helper</span> <span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
            <span class=n>permutation</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=permutations-ii>Permutations II<a class=headerlink href=#permutations-ii title="Permanent link">&para;</a></h3> <ul> <li>The line <code>27</code> is very tricky and important. It can be understand as following: using <code>!visited[i - 1]</code> makes sure when duplicates are selected, the order is ascending (index from small to large). However, using <code>visited[i - 1]</code> means the descending order.</li> <li>You cannot using the find to check whether the element is presetend, you have to use the visited "bit map" to record the states.</li> </ul> <div class=tabbed-set data-tabs=4:1><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><label for=__tabbed_4_1>C++</label><div class=tabbed-content> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>permuteUnique</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>permutation</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span> <span class=n>visited</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
            <span class=k>return</span> <span class=n>results</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>nums</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>nums</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>

        <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>bool</span><span class=o>&gt;</span> <span class=n>visited</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>permutation</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>n</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>permutation</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
<span class=hll>            <span class=k>if</span> <span class=p>(</span><span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>||</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=mi>0</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>visited</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>]))</span> <span class=p>{</span> <span class=c1>// 1st</span>
</span>            <span class=c1>//if (visited[i] || (i &gt; 0 &amp;&amp; nums[i] == nums[i - 1] &amp;&amp; visited[i - 1])) { // 2nd</span>
                <span class=c1>// the condition enfoce the duplicates only added once to the result.</span>
                <span class=c1>// 1st is saying A[i - 1] is added, A[i] is not, then we add A[i].</span>
                <span class=c1>// 2nd is saying none of A[i - 1] and A[i] is added, then we add A[i].</span>
                <span class=c1>// duplicated element only add once in all subtrees.</span>
                <span class=c1>// e.g. 1 2 3 4 4 4 5 6 7. the 4, 4, 4 should be only selected once</span>
                <span class=k>continue</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>true</span><span class=p>;</span>
            <span class=n>permutation</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
            <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>n</span><span class=p>,</span> <span class=n>visited</span><span class=p>,</span> <span class=n>permutation</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
            <span class=n>permutation</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=n>visited</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=nb>false</span><span class=p>;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> </div> </div> <h3 id=combinations>Combinations<a class=headerlink href=#combinations title="Permanent link">&para;</a></h3> <ul> <li>Notice the <code>=</code> in the for loop, here the <code>i</code> is not array index, but number we are enumerating.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>combine</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>comb</span><span class=p>;</span>

        <span class=n>helper</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>comb</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>cur</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>comb</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>comb</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>==</span> <span class=n>k</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>comb</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>cur</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>n</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>comb</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>i</span><span class=p>);</span>
            <span class=n>helper</span><span class=p>(</span><span class=n>n</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>comb</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
            <span class=n>comb</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=combination-sum>Combination Sum<a class=headerlink href=#combination-sum title="Permanent link">&para;</a></h3> <ul> <li>Notice in line 23, the recursion is on <code>i</code> again even though it has been selected already.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>combinationSum</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>candidates</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>result</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>candidates</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>candidates</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>helper</span><span class=p>(</span><span class=n>candidates</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>target</span><span class=p>,</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>cur</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>result</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>target</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>result</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>cur</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>result</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
                <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>i</span><span class=p>,</span> <span class=n>target</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
                <span class=n>result</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=combination-sum-ii>Combination Sum II<a class=headerlink href=#combination-sum-ii title="Permanent link">&para;</a></h3> <ul> <li>Notice in this problem, duplicate number could be in the original array, don't worry, we will treat the same element in different position differently.</li> <li>Notice how this code can be changed from the Combinations Sum, compare to the solution we only add the if check in line 21, and call the hlepr function with <code>i + 1</code> in line 27.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>combinationSum2</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>candidates</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>result</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>candidates</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>candidates</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>helper</span><span class=p>(</span><span class=n>candidates</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>target</span><span class=p>,</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>cur</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>result</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>target</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>result</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>cur</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
<span class=hll>            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=n>cur</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
</span>                <span class=k>continue</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>result</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
<span class=hll>                <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>target</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
</span>                <span class=n>result</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=combination-sum-iii>Combination Sum III<a class=headerlink href=#combination-sum-iii title="Permanent link">&para;</a></h3> <ul> <li>Very similar to the <a href=#combination-sum>Combination Sum</a>. Instead of giving an array, this problem gives numbers from <code>1</code> to <code>9</code> and no duplicate selection allowed.</li> <li>The meaning of this problem is also similar to the problem <a href=#k-sum>K Sum</a>, while K Sum is asking "how many", so it is solved using Dynamic Programming.</li> <li>differ with <a href=#combination-sum>Combination Sum</a> in the for loop bounds and the recursive call, remember in <a href=#combination-sum>Combination Sum</a>, the recursive function called with <code>i</code> instead of <code>i + 1</code> because duplication is allowed in that problem.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>combinationSum2</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>candidates</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;</span> <span class=n>results</span><span class=p>;</span>
        <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>result</span><span class=p>;</span>

        <span class=n>sort</span><span class=p>(</span><span class=n>candidates</span><span class=p>.</span><span class=n>begin</span><span class=p>(),</span> <span class=n>candidates</span><span class=p>.</span><span class=n>end</span><span class=p>());</span>
        <span class=n>helper</span><span class=p>(</span><span class=n>candidates</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=n>target</span><span class=p>,</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>

        <span class=k>return</span> <span class=n>results</span><span class=p>;</span>
    <span class=p>}</span>

    <span class=kt>void</span> <span class=n>helper</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>cur</span><span class=p>,</span> <span class=kt>int</span> <span class=n>target</span><span class=p>,</span> <span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>result</span><span class=p>,</span>
                <span class=n>vector</span><span class=o>&lt;</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&gt;&amp;</span> <span class=n>results</span><span class=p>)</span> <span class=p>{</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>target</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>results</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>result</span><span class=p>);</span>
            <span class=k>return</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>cur</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;</span> <span class=n>cur</span> <span class=o>&amp;&amp;</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>==</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=mi>1</span><span class=p>])</span> <span class=p>{</span>
                <span class=k>continue</span><span class=p>;</span>
            <span class=p>}</span>

            <span class=k>if</span> <span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=n>target</span><span class=p>)</span> <span class=p>{</span>
                <span class=n>result</span><span class=p>.</span><span class=n>push_back</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
                <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>target</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>],</span> <span class=n>result</span><span class=p>,</span> <span class=n>results</span><span class=p>);</span>
                <span class=n>result</span><span class=p>.</span><span class=n>pop_back</span><span class=p>();</span>
            <span class=p>}</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=combination-sum-iv-backpack-vi>Combination Sum IV (Backpack VI)<a class=headerlink href=#combination-sum-iv-backpack-vi title="Permanent link">&para;</a></h3> <ul> <li>è¿™é‡Œå¯ä»¥éšä¾¿å–ï¼Œä¼¼ä¹Žé¢˜ç›®å˜å¾—æ— æ³•ä¸‹æ‰‹ï¼Œè€ƒè™‘â€œæœ€åŽä¸€æ­¥â€è¿™ä¸ªæŠ€å·§ä¸èƒ½ç”¨äº†ï¼Œå› ä¸ºæœ€åŽä¸€æ­¥å¯ä»¥æ˜¯ä»»æ„ä¸€ä¸ªäº†ã€‚</li> <li>ä½†ä»ç„¶å¯ä»¥ç”¨å­é—®é¢˜æ¥è€ƒè™‘ã€‚å…ˆä¸ç®¡æœ€åŽä¸€æ­¥æ˜¯å“ªä¸€ä¸ªï¼Œæœ€åŽä¸€æ­¥ä¹‹å‰çš„ç›¸åŠ çš„æ€»å’Œä¸€å®šæ˜¯ <code>Target - x</code>. è¿™æ ·å°±è½¬åŒ–æˆä¸€ä¸ªå­é—®é¢˜å¯ä»¥ç”¨DPæ¥åšã€‚</li> <li>å…·ä½“åšæ³•æˆ‘ä»¬å¯ä»¥å¯¹äºŽæ¯ä¸€ä¸ªå°äºŽâ€œæ€»æ‰¿é‡â€çš„é‡é‡è¿›è¡Œæžšä¸¾æœ€åŽä¸€æ­¥<code>x</code>ã€‚å¯èƒ½çš„<code>x</code>æ˜¯<code>A[0], ..., A[i - 1]</code> ä¸­ä»»æ„ä¸€ä¸ª.</li> <li>Must initialize <code>f[i] = 0</code>. Because some of the state won't be updated indicates that they are not possible to fill).</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>backPackVI</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>T</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=p>}</span>
        <span class=kt>int</span> <span class=n>f</span><span class=p>[</span><span class=n>T</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
        <span class=n>f</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
        <span class=cm>/* for each sub problem */</span>
        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>T</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=cm>/* enumerate the last step */</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;=</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]];</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>f</span><span class=p>[</span><span class=n>T</span><span class=p>];</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>å³ä½¿æ˜¯ç®€å•çš„ä¸€ç»´èƒŒåŒ…ï¼Œä¾ç„¶æ˜¯æ€»æ‰¿é‡æ”¾å…¥çŠ¶æ€(å³æ‰€å¼€æ•°ç»„ä¸Žæ€»æ‰¿é‡ç›¸å…³)</p> </div> <p>Print one such combination solution</p> <ul> <li>Suppose we also interested in print one of the possible solution. How could we change the code?</li> <li><code>f[i]</code>: å­˜å¤šå°‘ç§æ–¹å¼</li> <li><code>pi[i]</code>: å¦‚æžœ <code>f[i] &gt;= 1</code>, æœ€åŽä¸€ä¸ªæ•°å­—å¯ä»¥æ˜¯<code>pi[i]</code></li> </ul> <div class=tabbed-set data-tabs=5:1><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><label for=__tabbed_5_1>Print one such combination</label><div class=tabbed-content></div> </div> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span> <span class=p>{</span>
<span class=k>public</span><span class=o>:</span>
    <span class=kt>int</span> <span class=n>backPackVI</span><span class=p>(</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;&amp;</span> <span class=n>nums</span><span class=p>,</span> <span class=kt>int</span> <span class=n>T</span><span class=p>)</span> <span class=p>{</span>
        <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=n>nums</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
        <span class=k>if</span> <span class=p>(</span><span class=n>n</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
        <span class=p>}</span>

        <span class=kt>int</span> <span class=n>f</span><span class=p>[</span><span class=n>T</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
        <span class=cm>/* pi[i]: å¦‚æžœiå¯æ‹¼å‡º(f[i] &gt;= 1), æœ€åŽä¸€ä¸ªæ˜¯pi[i] */</span>
        <span class=kt>int</span> <span class=n>pi</span><span class=p>[</span><span class=n>T</span> <span class=o>+</span> <span class=mi>1</span><span class=p>];</span>
        <span class=n>f</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>

        <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=n>T</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
            <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
            <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
                <span class=k>if</span> <span class=p>(</span><span class=n>i</span> <span class=o>&gt;=</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>])</span> <span class=p>{</span>
                    <span class=n>f</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>+=</span> <span class=n>f</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]];</span>
                    <span class=cm>/* æœ€åŽä¸€ä¸ªæ˜¯nums[j]çš„å¯æ‹¼å‡ºi */</span>
                    <span class=k>if</span> <span class=p>(</span><span class=n>f</span><span class=p>[</span><span class=n>i</span> <span class=o>-</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>]]</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
                        <span class=cm>/* çºªå½•ä¸‹æ¥ */</span>
                        <span class=n>pi</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>nums</span><span class=p>[</span><span class=n>j</span><span class=p>];</span>
                    <span class=p>}</span>
                <span class=p>}</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>if</span> <span class=p>(</span><span class=n>f</span><span class=p>[</span><span class=n>T</span><span class=p>]</span> <span class=o>&gt;</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
            <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=n>T</span><span class=p>;</span>
            <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&quot;=&quot;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
            <span class=k>while</span> <span class=p>(</span><span class=n>i</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>)</span> <span class=p>{</span>
                <span class=c1>// sum is i now;</span>
                <span class=c1>// last number is pi[i]</span>
                <span class=c1>// previuos sum is i - pi[i]</span>
                <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>pi</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
                <span class=n>i</span> <span class=o>-=</span> <span class=n>pi</span><span class=p>[</span><span class=n>i</span><span class=p>];</span>
            <span class=p>}</span>
        <span class=p>}</span>

        <span class=k>return</span> <span class=n>f</span><span class=p>[</span><span class=n>T</span><span class=p>];</span>
    <span class=p>}</span>
<span class=p>};</span>
</code></pre></div> <h3 id=491-increasing-subsequences>491. Increasing Subsequences<a class=headerlink href=#491-increasing-subsequences title="Permanent link">&para;</a></h3> <ul> <li>notice the given array may not sorted. You need to consider duplidates in this case.</li> <li>to eliminite duplication, we use a set to keep the "root of the subtree" and make sure no duplicates in the same level when grow the tree.</li> </ul> <div class=highlight><pre><span></span><code><span class=k>class</span> <span class=nc>Solution</span><span class=p>:</span>
    <span class=k>def</span> <span class=nf>findSubsequences</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>nums</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]]:</span>
        <span class=n>res</span> <span class=o>=</span> <span class=p>[]</span>
        <span class=k>def</span> <span class=nf>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>index</span><span class=p>,</span> <span class=n>path</span><span class=p>):</span>
            <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>path</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>1</span><span class=p>:</span>
                <span class=n>res</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>path</span><span class=p>[:])</span>

            <span class=n>seen</span> <span class=o>=</span> <span class=nb>set</span><span class=p>()</span>
            <span class=k>for</span> <span class=n>i</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>index</span><span class=p>,</span> <span class=nb>len</span><span class=p>(</span><span class=n>nums</span><span class=p>)):</span>
                <span class=k>if</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=ow>in</span> <span class=n>seen</span><span class=p>:</span> <span class=k>continue</span>

                <span class=k>if</span> <span class=ow>not</span> <span class=n>path</span> <span class=ow>or</span> <span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=n>path</span><span class=p>[</span><span class=o>-</span><span class=mi>1</span><span class=p>]:</span>
                    <span class=n>path</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>
                    <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>path</span><span class=p>)</span>
                    <span class=n>path</span><span class=o>.</span><span class=n>pop</span><span class=p>()</span>

                <span class=n>seen</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=n>nums</span><span class=p>[</span><span class=n>i</span><span class=p>])</span>

        <span class=n>helper</span><span class=p>(</span><span class=n>nums</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=p>[])</span>

        <span class=k>return</span> <span class=n>res</span>
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../../array/notes/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Array" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Array </div> </div> </a> <a href=../../binary-search/notes/ class="md-footer__link md-footer__link--next" aria-label="Next: Binary Search" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Binary Search </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2020 Rui Han </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.477d984a.min.js", "version": null}</script> <script src=../../../assets/javascripts/bundle.82b56eb2.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>